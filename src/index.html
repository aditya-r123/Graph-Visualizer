<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graph Creator Pro</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="d-flex align-items-center justify-content-between w-100">
                    <i id="helpBtn" class="fas fa-question-circle help-btn" title="Show Help"></i>
                    <div class="logo d-flex align-items-center" style="margin-left: 8px;">
                        <i class="fas fa-project-diagram"></i>
                        <h1>Graph Creator Pro</h1>
                    </div>
                </div>

            </div>
            <!-- Utility controls - status -->
            <div class="d-flex gap-2 justify-content-center align-items-center mt-3 mb-1" id="savePanelUtilities">
                <div id="statusPanel" class="btn btn-outline-secondary" style="min-width:120px; font-size:0.75rem; padding:0.5rem; text-align:center;">
                    <i class="fas fa-info-circle"></i>
                    <div id="statusMessageTop" style="font-weight:bold;">Ready to create your graph!</div>
                </div>
            </div>
            
            <div class="sidebar-content">
                <div class="scroll-indicator" id="scrollIndicator">
                    <div class="scroll-arrow">
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <span class="scroll-text">More options</span>
                </div>
                
                <div class="control-section" id="basicControlsSection">
                    <div class="panel-header-container">
                        <div class="drag-handle-area">
                            <span class="drag-handle-icon">⋮⋮</span>
                        </div>
                        <h3 class="expandable-header" data-target="basicControlsContent">
                            Controls
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </h3>
                    </div>
                    <div class="expandable-content show" id="basicControlsContent">
                    

                    
                    <div class="control-group">
                        <label for="vertexSize">
                            <i class="fas fa-circle"></i>
                            Vertex Size
                        </label>
                        <div class="slider-container">
                            <input type="range" id="vertexSize" min="15" max="60" value="25">
                            <span id="vertexSizeValue">25</span>
                        </div>
                    </div>
                    
                    <div class="control-group d-flex gap-2">
                        <div class="flex-fill">
                            <label for="vertexLabel">
                                <i class="fas fa-tag"></i>
                                Vertex Label
                            </label>
                            <input type="text" id="vertexLabel" placeholder="Auto-label" maxlength="10">
                        </div>
                        
                        <div class="flex-fill">
                            <label for="edgeWeight">
                                <i class="fas fa-weight-hanging"></i>
                                Edge Weight
                            </label>
                            <input type="number" id="edgeWeight" placeholder="No weight" min="0" step="0.1">
                        </div>
                    </div>
                    
                    <div class="control-group" style="margin-bottom: 0.5rem;">
                        <label>
                            <i class="fas fa-wave-square"></i>
                            Edge Type
                        </label>
                        <div class="edge-type-buttons">
                            <label class="edge-type-option" for="edgeTypeStraight">
                                <input type="radio" name="edgeType" id="edgeTypeStraight" value="straight" checked>
                                <span class="edge-type-button">
                                    <i class="fas fa-minus"></i>
                                    Straight
                                </span>
                            </label>
                            <label class="edge-type-option" for="edgeTypeCurved">
                                <input type="radio" name="edgeType" id="edgeTypeCurved" value="curved">
                                <span class="edge-type-button">
                                    <i class="fas fa-wave-square"></i>
                                    Curved
                                </span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="control-group" style="margin-bottom: 0.5rem;">
                        <label>
                            <i class="fas fa-arrow-right"></i>
                            Edge Direction
                        </label>
                        <div class="edge-direction-buttons">
                            <label class="edge-direction-option" for="edgeDirectionUndirected">
                                <input type="radio" name="edgeDirection" id="edgeDirectionUndirected" value="undirected" checked>
                                <span class="edge-direction-button">
                                    <i class="fas fa-minus"></i>
                                    Undirected
                                </span>
                            </label>
                            <label class="edge-direction-option" for="edgeDirectionDirected">
                                <input type="radio" name="edgeDirection" id="edgeDirectionDirected" value="directed-forward">
                                <span class="edge-direction-button">
                                    <i class="fas fa-arrow-right"></i>
                                    Directed
                                </span>
                            </label>
                        </div>
                    </div>
                    

                    
                    <div class="control-group" id="gridDensityContainer" style="display: none;">
                        <label for="gridDensity">
                            <i class="fas fa-sliders-h"></i>
                            Grid Density
                        </label>
                        <div class="slider-container">
                            <input type="range" id="gridDensity" min="10" max="100" value="50">
                        </div>
                    </div>
                    
                    <!-- Edit Mode and Delete Mode Controls -->
                    <div class="button-group d-flex gap-2">
                        <button id="editModeBtn" class="btn btn-primary flex-fill">
                            <i class="fas fa-edit"></i>
                            Edit Mode
                        </button>
                        <button id="deleteNodesBtn" class="btn btn-danger flex-fill">
                            <i class="fas fa-trash"></i>
                            Delete Mode
                        </button>
                    </div>
                    </div>
                </div>
                
                <div class="control-section" id="editControlsSection" style="display: none;">
                    <div class="panel-header-container">
                        <div class="drag-handle-area">
                            <span class="drag-handle-icon">⋮⋮</span>
                        </div>
                        <h3>Edit Vertex</h3>
                        <div class="edit-mode-toggle">
                            <button type="button" id="toggleEditMode" class="btn btn-outline-secondary btn-sm">
                                <i class="fas fa-exchange-alt"></i> Switch to Edge Editing
                            </button>
                        </div>
                    </div>
                    <form id="vertexEditForm" autocomplete="off">
                        <div class="control-group">
                            <label for="editVertexLabel">
                                <i class="fas fa-tag"></i>
                                Label
                            </label>
                            <input type="text" id="editVertexLabel" maxlength="10" required>
                        </div>
                        <div class="control-group">
                            <label for="editVertexSize">
                                <i class="fas fa-expand-arrows-alt"></i>
                                Size
                            </label>
                            <div class="slider-container">
                                <input type="range" id="editVertexSize" min="15" max="60" value="25">
                                <span id="editVertexSizeValue">25</span>
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="editVertexColor">
                                <i class="fas fa-fill-drip"></i>
                                Fill Color
                            </label>
                            <div class="color-input-container">
                                <input type="color" id="editVertexColor" value="#1f2937">
                                <input type="text" id="editVertexColorText" placeholder="#1f2937" maxlength="7">
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="editVertexBorderColor">
                                <i class="fas fa-circle"></i>
                                Outline Color
                            </label>
                            <div class="color-input-container">
                                <input type="color" id="editVertexBorderColor" value="#111827">
                                <input type="text" id="editVertexBorderColorText" placeholder="#111827" maxlength="7">
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="editVertexBorderThickness">
                                <i class="fas fa-border-style"></i>
                                Border Thickness
                            </label>
                            <div class="slider-container">
                                <input type="range" id="editVertexBorderThickness" min="1" max="10" value="2">
                                <span id="editVertexBorderThicknessValue">2</span>
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="editVertexLabelSize">
                                <i class="fas fa-font"></i>
                                Label Size
                            </label>
                            <div class="slider-container">
                                <input type="range" id="editVertexLabelSize" min="10" max="24" value="14">
                                <span id="editVertexLabelSizeValue">14</span>
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="editVertexShape">
                                <i class="fas fa-shapes"></i>
                                Shape
                            </label>
                            <select id="editVertexShape" class="form-select">
                                <option value="circle">Circle</option>
                                <option value="square">Square</option>
                                <option value="triangle">Triangle</option>
                                <option value="star">Star</option>
                                <option value="pentagon">Pentagon</option>
                                <option value="hexagon">Hexagon</option>
                                <option value="octagon">Octagon</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label class="checkbox-label" for="applyToAllToggle">
                                <i class="fas fa-copy"></i>
                                Apply to All Vertices
                                <input type="checkbox" id="applyToAllToggle">
                                <span class="checkmark"></span>
                            </label>
                            <small>Apply these changes to all vertices in the graph</small>
                        </div>
                        <div class="button-group mt-3">
                            <button type="submit" id="saveVertexEdit" class="btn btn-success">
                                <i class="fas fa-check"></i> Save
                            </button>
                            <button type="button" id="cancelVertexEdit" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Cancel
                            </button>
                            <button type="button" id="deleteCurrentVertex" class="btn btn-danger">
                                <i class="fas fa-trash"></i> Delete Current Node
                            </button>
                        </div>
                    </form>
                </div>
                
                <div class="control-section" id="edgeEditControlsSection" style="display: none;">
                    <div class="panel-header-container">
                        <div class="drag-handle-area">
                            <span class="drag-handle-icon">⋮⋮</span>
                        </div>
                        <h3>Edge Editing</h3>
                        <div class="edit-mode-toggle">
                            <button type="button" id="toggleEditModeEdge" class="btn btn-outline-secondary btn-sm">
                                <i class="fas fa-exchange-alt"></i> Switch to Vertex Editing
                            </button>
                        </div>
                    </div>
                    <form id="edgeEditForm" autocomplete="off">
                        <div class="control-group">
                            <label for="editEdgeStyle">
                                <i class="fas fa-wave-square"></i>
                                Edge Style
                            </label>
                            <div class="edge-style-buttons">
                                <label class="edge-style-option" for="editEdgeStyleStraight">
                                    <input type="radio" name="editEdgeStyle" id="editEdgeStyleStraight" value="straight">
                                    <span class="edge-style-button">
                                        <i class="fas fa-minus"></i>
                                        Straight
                                    </span>
                                </label>
                                <label class="edge-style-option" for="editEdgeStyleDashed">
                                    <input type="radio" name="editEdgeStyle" id="editEdgeStyleDashed" value="dashed">
                                    <span class="edge-style-button">
                                        <i class="fas fa-grip-lines"></i>
                                        Dashed
                                    </span>
                                </label>
                            </div>
                        </div>
                        <div class="control-group">
                            <label class="checkbox-label" for="applyToAllEdgesToggle">
                                <i class="fas fa-copy"></i>
                                Apply to All Edges
                                <input type="checkbox" id="applyToAllEdgesToggle">
                                <span class="checkmark"></span>
                            </label>
                            <small>Apply these changes to all edges in the graph</small>
                        </div>
                        <div class="button-group mt-3">
                            <button type="submit" id="saveEdgeEdit" class="btn btn-success">
                                <i class="fas fa-check"></i> Save
                            </button>
                            <button type="button" id="cancelEdgeEdit" class="btn btn-secondary">
                                <i class="fas fa-times"></i> Cancel
                            </button>
                            <button type="button" id="deleteCurrentEdge" class="btn btn-danger">
                                <i class="fas fa-trash"></i> Delete Current Edge
                            </button>
                        </div>
                    </form>
                </div>
                
                <div class="control-section" id="deleteModePanel" style="display: none;">
                    <h3><i class="fas fa-trash"></i> Delete Mode</h3>
                    <div class="delete-mode-info">
                        <div class="delete-mode-info-text">
                            Delete Mode Active - 0 of 0 vertices selected for deletion
                        </div>
                    </div>
                    <div class="control-group">
                        <label>
                            <i class="fas fa-list"></i>
                            Selected Vertices
                        </label>
                        <div class="selected-vertices-list">
                            <!-- Selected vertices will be populated here -->
                        </div>
                        <small>Click on red X buttons or vertices to select/deselect them for deletion</small>
                    </div>
                    <div class="button-group mt-3">
                        <button id="saveDeleteChanges" class="btn btn-success">
                            <i class="fas fa-check"></i>
                            Save Changes
                        </button>
                        <button id="cancelDeleteChanges" class="btn btn-secondary">
                            <i class="fas fa-times"></i>
                            Cancel
                        </button>
                    </div>
                </div>
                
                <div class="control-section" id="searchSection">
                    <div class="panel-header-container">
                        <div class="drag-handle-area">
                            <span class="drag-handle-icon">⋮⋮</span>
                        </div>
                        <h3 class="expandable-header" data-target="searchSectionContent">
                            Algorithms
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </h3>
                    </div>
                    <div class="expandable-content show" id="searchSectionContent">
                        <div class="d-flex gap-2">
                            <div class="control-group flex-fill">
                                <label for="searchRoot">
                                    <i class="fas fa-arrow-up"></i>
                                    Root
                                </label>
                                <div class="root-vertex-display">
                                    <div id="rootVertexDisplay" class="root-display">
                                        <span class="root-placeholder">Unselected</span>
                                    </div>
                                    <select id="searchRoot" style="display: none;"></select>
                                </div>
                            </div>
                            <div class="control-group flex-fill">
                                <label for="searchTarget">
                                    <i class="fas fa-bullseye"></i>
                                    Target
                                </label>
                                <div class="target-vertex-display">
                                    <div id="targetVertexDisplay" class="target-display">
                                        <span class="target-placeholder">Unselected</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label for="animationSpeed">
                                <i class="fas fa-tachometer-alt"></i>
                                Animation Speed
                            </label>
                            <div class="slider-container">
                                <span class="slider-label-left">Slow</span>
                                <input type="range" id="animationSpeed" min="100" max="2000" value="500" step="100" class="slider">
                                <span class="slider-label-right">Fast</span>
                            </div>
                        </div>
                        
                        <div class="button-group">
                            <div class="d-flex gap-2 mb-2">
                                <button id="runBFS" class="btn btn-primary flex-fill">
                                    <i class="fas fa-bread-slice"></i>
                                    BFS
                                </button>
                                <button id="runDFS" class="btn btn-primary flex-fill">
                                    <i class="fas fa-tree"></i>
                                    DFS
                                </button>
                            </div>
                            <button id="stopSearch" class="btn btn-warning w-100" disabled>
                                <i class="fas fa-stop"></i>
                                Stop Search
                            </button>
                        </div>
                        <div id="distanceInfo" class="distance-info"></div>
                        <div id="pathInfo" class="path-info"></div>
                        <div id="searchInfo" class="search-info"></div>
                    </div>
                </div>
                
                
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <div class="canvas-scroll-wrapper">
                            <div class="canvas-container">
                <div class="white-box-container"></div>
                <canvas id="graphCanvas"></canvas>
                
            </div> <!-- end .canvas-container -->
            </div> <!-- end .canvas-scroll-wrapper -->
        </main>

        <!-- Instructions Overlay as Bootstrap Modal -->
        <div class="modal fade show" id="instructionsOverlay" tabindex="-1" aria-modal="true" role="dialog" style="display: flex; align-items: center; justify-content: center; background: rgba(15,23,42,0.95);" data-autodismiss="10">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content instructions-content p-3" style="max-width: 1400px; max-height: 90vh; overflow-y: auto; position: relative;">
                    <button type="button" class="btn-close position-absolute end-0 top-0 m-2" id="closeInstructionsX" aria-label="Close" style="background-color: white; color: #8b5cf6; border: 2px solid #8b5cf6; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 16px;"></button>
                    
                    <!-- Introduction -->
                    <div class="mb-4 p-3" style="background: var(--bg-secondary); border-radius: var(--radius-md); border-left: 4px solid var(--primary-color);">
                        <h4 class="mb-3" style="font-size: 1.4rem; font-weight: 600; color: var(--text-primary);"><i class="fas fa-info-circle"></i> About Graph Creator Pro</h4>
                        <p class="mb-2" style="font-size: 0.9rem; line-height: 1.4;">
                            Graph Creator Pro is the first modern UI graph creation web software, designed for creating, visualizing, and analyzing graphs with an intuitive interface. Perfect for students, researchers, and professionals working with graph theory, algorithms, and data visualization.
                        </p>
                        <p class="mb-2" style="font-size: 0.9rem; line-height: 1.4;">
                            <strong>What makes us special:</strong> Modern UI that feels professional, integrated creation and visualization, comprehensive session management, and accessibility with no downloads required.
                        </p>
                        <p class="mb-0" style="font-size: 0.9rem; line-height: 1.4;">
                            <strong>Need help?</strong> Visit <strong>Utilities > Contact</strong> to reach out for support or feature requests.
                        </p>
                    </div>

                    <h3 class="text-center mb-4" style="font-size: 1.8rem; font-weight: 700; color: var(--text-primary);"><i class="fas fa-lightbulb"></i> How to Use</h3>

                    <h5 class="mb-3" style="font-size: 1.2rem; font-weight: 600; color: var(--text-primary);"><i class="fas fa-mouse"></i> Core Controls</h5>
                    <div class="instruction-grid mb-4">
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-mouse-pointer"></i></div>
                            <div class="instruction-text"><strong>Add Vertex:</strong> Left-click on empty canvas area</div>
                        </div>
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-hand-pointer"></i></div>
                            <div class="instruction-text"><strong>Move Vertex:</strong> Drag vertex to reposition (5px movement threshold)</div>
                        </div>
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-mouse"></i></div>
                            <div class="instruction-text"><strong>Create Edge:</strong> Right-click on first vertex, then right-click on second vertex</div>
                        </div>
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-bullseye"></i></div>
                            <div class="instruction-text"><strong>Set Target:</strong> Right-click on vertex to set as search target</div>
                        </div>
                    </div>

                    <h5 class="mb-3" style="font-size: 1.2rem; font-weight: 600; color: var(--text-primary);"><i class="fas fa-edit"></i> Advanced Modes</h5>
                    <div class="instruction-grid mb-4">
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-edit"></i></div>
                            <div class="instruction-text"><strong>Edit Mode:</strong> Hold vertex for 2.5 seconds (red glow appears at 1s). Click other vertices to switch between them.</div>
                        </div>
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-trash"></i></div>
                            <div class="instruction-text"><strong>Delete Mode:</strong> Use "Delete Mode" button in Utilities panel to delete multiple vertices</div>
                        </div>
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-exclamation-triangle"></i></div>
                            <div class="instruction-text"><strong>Important:</strong> Dragging prevents edit mode activation</div>
                        </div>
                    </div>

                    <h5 class="mb-3" style="font-size: 1.2rem; font-weight: 600; color: var(--text-primary);"><i class="fas fa-star"></i> Key Features</h5>
                    <div class="instruction-grid mb-4">
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-search"></i></div>
                            <div class="instruction-text"><strong>Graph Algorithms:</strong> Run BFS/DFS with visual pathfinding</div>
                        </div>
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-ruler"></i></div>
                            <div class="instruction-text"><strong>Distance Calculator:</strong> Measure shortest paths between vertices</div>
                        </div>
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-save"></i></div>
                            <div class="instruction-text"><strong>Save & Load:</strong> Auto-save and manual save/load functionality</div>
                        </div>
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-camera"></i></div>
                            <div class="instruction-text"><strong>Export:</strong> Screenshot and export graphs in multiple formats</div>
                        </div>
                        <div class="instruction-item d-flex align-items-center mb-2">
                            <div class="instruction-icon me-2"><i class="fas fa-sliders-h"></i></div>
                            <div class="instruction-text"><strong>Customization:</strong> Adjust vertex size, colors, edge types, and themes</div>
                        </div>
                    </div>
                    <button class="btn btn-secondary w-100" id="hideInstructions"><i class="fas fa-times"></i> Got it!</button>
                </div>
            </div>
        </div>
        
        <!-- Right Sidebar -->
        <aside class="right-sidebar">
            <div class="right-sidebar-content">
                <div class="control-section" id="saveExportSection">
                    <div class="panel-header-container">
                        <div class="drag-handle-area">
                            <span class="drag-handle-icon">⋮⋮</span>
                        </div>
                        <h3 class="expandable-header" data-target="saveExportContent" style="font-size: 0.9rem; margin-bottom: 0.5rem; color: var(--text-secondary);">
                            Save & Export
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </h3>
                    </div>
                    <div class="expandable-content show" id="saveExportContent">
                    <!-- Auto-Save Section -->
                    <div class="control-group mb-3">
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="mb-0">
                                <i class="fas fa-magic"></i>
                                Auto-Save
                            </span>
                            <label class="switch-label" for="autosaveToggle">
                                <div class="switch-container">
                                    <input type="checkbox" id="autosaveToggle" checked>
                                    <span class="switch-slider"></span>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Image Format Section -->
                    <div class="control-group mb-3">
                        <label class="mb-2">
                            <i class="fas fa-image"></i>
                            Image Format
                        </label>
                        <div class="image-format-buttons">
                            <label class="format-option" for="formatJpg">
                                <input type="radio" name="screenshotFormat" id="formatJpg" value="jpg" checked>
                                <span class="format-button">
                                    <i class="fas fa-file-image"></i>
                                    JPG
                                </span>
                            </label>
                            <label class="format-option" for="formatPng">
                                <input type="radio" name="screenshotFormat" id="formatPng" value="png">
                                <span class="format-button">
                                    <i class="fas fa-file-code"></i>
                                    PNG
                                </span>
                            </label>
                        </div>
                    </div>
                    <div class="button-group">
                        <button id="newGraph" class="btn btn-magenta">
                            <i class="fas fa-plus"></i>
                            New Canvas
                        </button>

                        <div class="d-flex gap-2 mb-2">
                            <button id="saveGraph" class="btn btn-success flex-fill">
                                <i class="fas fa-save"></i>
                                Save
                            </button>
                            <button id="loadGraph" class="btn btn-secondary flex-fill">
                                <i class="fas fa-folder-open"></i>
                                Load
                            </button>
                        </div>
                        <div class="d-flex gap-2 mb-2">
                            <button id="downloadJSON" class="btn btn-primary flex-fill">
                                <i class="fas fa-download"></i>
                                JSON Download
                            </button>
                        </div>
                        <div class="d-flex gap-2 mb-2">
                                                    <button id="takeScreenshot" class="btn btn-info flex-fill">
                            <i class="fas fa-camera"></i>
                            Download
                        </button>
                            <button id="shareGraph" class="btn btn-warning flex-fill">
                                <i class="fas fa-share-alt"></i>
                                Share
                            </button>
                        </div>
                    </div>
                    </div>
                </div>
                <div class="control-section" id="canvasManagementSection" style="margin-top: 1rem;">
                    <div class="panel-header-container">
                        <div class="drag-handle-area">
                            <span class="drag-handle-icon">⋮⋮</span>
                        </div>
                        <h3 class="expandable-header" data-target="canvasManagementContent" style="font-size: 0.9rem; margin-bottom: 0.5rem; color: var(--text-secondary);">
                            Canvas Management
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </h3>
                    </div>
                    <div class="expandable-content show" id="canvasManagementContent">
                    <div class="saved-graphs">
                        <h4><i class="fas fa-history"></i> Recent Canvases</h4>
                        <div id="savedGraphsList" class="saved-graphs-list">
                            <!-- Saved graphs will be populated here -->
                        </div>
                                            <div class="d-flex gap-2 mt-3">
                        <button id="deleteAllGraphs" class="btn btn-outline-danger flex-fill">
                            <i class="fas fa-trash-alt"></i>
                            Clear Storage
                        </button>
                        <button id="clearGraph" class="btn btn-warning flex-fill">
                            <i class="fas fa-trash"></i>
                            Reset Canvas
                        </button>
                    </div>
                    <!-- Shared confirmation buttons -->
                    <div id="sharedConfirmation" class="d-flex gap-2 mt-3" style="display: none;">
                        <button id="confirmAction" class="btn btn-success flex-fill">
                            <i class="fas fa-check"></i>
                            Confirm
                        </button>
                        <button id="cancelAction" class="btn btn-secondary flex-fill">
                            <i class="fas fa-times"></i>
                            Cancel
                        </button>
                    </div>
                </div>
                    </div>
                </div>
                <!-- Clock and Contact Panel -->
                <div class="control-section" id="utilitiesSection" style="margin-top: 1rem;">
                    <div class="panel-header-container">
                        <div class="drag-handle-area">
                            <span class="drag-handle-icon">⋮⋮</span>
                        </div>
                        <h3 class="expandable-header" data-target="utilitiesContent" style="font-size: 0.9rem; margin-bottom: 0.5rem; color: var(--text-secondary);">
                            Utilities
                            <i class="fas fa-chevron-down expand-icon"></i>
                        </h3>
                    </div>
                    <div class="expandable-content show" id="utilitiesContent">
                    <div class="control-group" style="margin-bottom: 0.5rem;">
                        <label class="switch-label" for="mouseCoordinateToggle">
                            <i class="fas fa-eye"></i>
                            Mouse Position
                            <div class="switch-container">
                                <input type="checkbox" id="mouseCoordinateToggle" checked>
                                <span class="switch-slider"></span>
                            </div>
                        </label>
                    </div>
                    
                    <div class="control-group" style="margin-bottom: 0.5rem;">
                        <label class="switch-label" for="hideLabelsToggle">
                            <i class="fas fa-tag"></i>
                            Show Labels
                            <div class="switch-container">
                                <input type="checkbox" id="hideLabelsToggle" checked>
                                <span class="switch-slider"></span>
                            </div>
                        </label>
                    </div>
                    
                    <div class="control-group" style="margin-bottom: 0.5rem;">
                        <label class="switch-label" for="coordinateGridToggle">
                            <i class="fas fa-th"></i>
                            Grid Lines
                            <div class="switch-container">
                                <input type="checkbox" id="coordinateGridToggle">
                                <span class="switch-slider"></span>
                            </div>
                        </label>
                    </div>
                    
                    <div class="control-group" style="margin-bottom: 0.5rem;">
                        <label class="switch-label" for="vertexVisibilityToggle">
                            <i class="fas fa-circle"></i>
                            Show Vertices
                            <div class="switch-container">
                                <input type="checkbox" id="vertexVisibilityToggle" checked>
                                <span class="switch-slider"></span>
                            </div>
                        </label>
                    </div>
                    
                    <div class="control-group" style="margin-bottom: 0.5rem;">
                        <label class="switch-label" for="edgeVisibilityToggle">
                            <i class="fas fa-minus"></i>
                            Show Edges
                            <div class="switch-container">
                                <input type="checkbox" id="edgeVisibilityToggle" checked>
                                <span class="switch-slider"></span>
                            </div>
                        </label>
                    </div>
                    
                    <div class="button-group mt-2">
                        <div id="mousePositionDisplay" class="btn btn-outline-secondary w-100" style="font-size:0.75rem; padding:0.5rem; text-align:center; display:none;">
                            <i class="fas fa-mouse-pointer"></i>
                            <span id="mousePositionTop" style="font-weight:bold;">(0, 0)</span>
                        </div>
                    </div>
                    
                    <div class="button-group mt-2">
                        <button id="clockBtn" class="btn btn-outline-secondary w-100" title="Click to toggle between digital and analog">
                            <i class="fas fa-clock"></i>
                            <span id="digitalTime"></span>
                            <span id="analogClock" style="display:none">
                                <svg width="60" height="60" viewBox="0 0 100 100" class="analog-clock">
                                    <!-- Clock face -->
                                    <circle cx="50" cy="50" r="45" fill="var(--bg-secondary)" stroke="var(--border-color)" stroke-width="2"/>
                                    <!-- Clock center dot -->
                                    <circle cx="50" cy="50" r="3" fill="var(--text-primary)"/>
                                    <!-- Hour hand -->
                                    <line id="hourHand" x1="50" y1="50" x2="50" y2="30" stroke="var(--text-primary)" stroke-width="3" stroke-linecap="round"/>
                                    <!-- Minute hand -->
                                    <line id="minuteHand" x1="50" y1="50" x2="50" y2="23" stroke="var(--text-primary)" stroke-width="2" stroke-linecap="round"/>
                                    <!-- Second hand -->
                                    <line id="secondHand" x1="50" y1="50" x2="50" y2="17" stroke="#ef4444" stroke-width="1" stroke-linecap="round"/>
                                    <!-- Hour markers -->
                                    <line x1="50" y1="5" x2="50" y2="10" stroke="var(--text-primary)" stroke-width="2"/>
                                    <line x1="50" y1="90" x2="50" y2="95" stroke="var(--text-primary)" stroke-width="2"/>
                                    <line x1="5" y1="50" x2="10" y2="50" stroke="var(--text-primary)" stroke-width="2"/>
                                    <line x1="90" y1="50" x2="95" y2="50" stroke="var(--text-primary)" stroke-width="2"/>
                                </svg>
                            </span>
                        </button>
                    </div>
                    
                    <div class="button-group mt-2">
                        <button id="themeToggle" class="btn btn-outline-secondary w-100" title="Toggle theme">
                            <i class="fas fa-moon"></i>
                            <span>Theme</span>
                        </button>
                    </div>
                    <div class="button-group mt-2">
                        <button id="contactBtn" class="btn btn-outline-secondary contact-link w-100" title="Contact">
                            <i class="fas fa-envelope"></i>
                            Contact
                        </button>
                    </div>
                    </div>
                </div>
            </div>
        </aside>


        
        <!-- Contact Modal -->
        <div class="modal fade" id="contactModal" tabindex="-1" aria-labelledby="contactModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="contactModalLabel">
                            <i class="fas fa-envelope"></i>
                            Want to get in touch?
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Contact Form -->
                        <div class="contact-form-section">
                            <h6 class="text-center mb-3">
                                <i class="fas fa-paper-plane"></i>
                                Send a Message
                            </h6>
                            <form id="contactForm">
                                <div class="mb-3">
                                    <label for="contactName" class="form-label">
                                        <i class="fas fa-user"></i>
                                        Name
                                    </label>
                                    <input type="text" class="form-control" id="contactName" placeholder="Your name" required>
                                </div>
                                <div class="mb-3">
                                    <label for="contactEmail" class="form-label">
                                        <i class="fas fa-envelope"></i>
                                        Email
                                    </label>
                                    <input type="email" class="form-control" id="contactEmail" placeholder="your.email@example.com" required>
                                </div>
                                <div class="mb-3">
                                    <label for="contactSubject" class="form-label">
                                        <i class="fas fa-tag"></i>
                                        Subject
                                    </label>
                                    <input type="text" class="form-control" id="contactSubject" placeholder="What's this about?" required>
                                </div>
                                <div class="mb-3">
                                    <label for="contactMessage" class="form-label">
                                        <i class="fas fa-comment"></i>
                                        Message
                                    </label>
                                    <textarea class="form-control" id="contactMessage" rows="4" placeholder="Your message here..." required></textarea>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" form="contactForm" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i>
                            Send Message
                        </button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            <i class="fas fa-times"></i>
                            Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Hidden file input for loading graphs -->
        <input type="file" id="loadFileInput" accept=".json" style="display: none;">
        <!-- EmailJS -->
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    </div>
</body>
</html> 